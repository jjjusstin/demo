{"version":3,"file":"js/281.761a5dcb.js","mappings":"wJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAG,UAAUH,EAAG,UAAU,CAACI,IAAI,WAAWF,YAAY,gBAAgBG,MAAM,CAAC,MAAQP,EAAIQ,SAAS,MAAQR,EAAIS,MAAM,cAAc,SAAS,CAACP,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACL,EAAG,WAAW,CAACQ,MAAM,CAACC,MAAOX,EAAIQ,SAASI,SAAUC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,SAAU,WAAYM,EAAI,EAAEE,WAAW,wBAAwB,GAAGd,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,gBAAgBP,EAAIiB,cAAcP,MAAM,CAACC,MAAOX,EAAIQ,SAASU,SAAUL,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,SAAU,WAAYM,EAAI,EAAEE,WAAW,wBAAwB,GAAGd,EAAG,eAAe,CAACA,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOpB,EAAIqB,WAAW,WAAW,IAAI,CAACrB,EAAIK,GAAG,QAAQH,EAAG,OAAO,CAACoB,YAAY,CAAC,eAAe,UAAUpB,EAAG,YAAY,CAACiB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOpB,EAAIuB,UAAU,WAAW,IAAI,CAACvB,EAAIK,GAAG,SAAS,IAAI,GAAGH,EAAG,MAAM,CAACE,YAAY,UAAU,CAACJ,EAAIK,GAAG,WAAW,IACxmC,EACImB,EAAkB,G,oBCAf,SAASC,EAAMC,GAClB,OAAOC,EAAAA,EAAAA,GAAQ,CACXC,IAAK,SACLC,OAAQ,OACRH,QAER,CCmBA,OACAA,OACA,OAGAT,cAAA,EACAT,SAAA,CACAI,SAAA,GACAM,SAAA,IAEAT,MAAA,CACAG,SAAA,CACA,CAAAkB,UAAA,EAAAC,QAAA,QAAAC,QAAA,SAEAd,SAAA,CACA,CAAAY,UAAA,EAAAC,QAAA,QAAAC,QAAA,UAIA,EACAC,QAAA,CAsBAZ,WAAAa,GACA,KAAAC,MAAAD,GAAAE,UAAAC,IACA,IAAAA,EA+BA,OADAC,QAAAC,IAAA,mBACA,EA9BAd,EAAA,CAAAb,SAAA,KAAAJ,SAAAI,SAAAM,SAAA,KAAAV,SAAAU,WAAAsB,MAAAC,IACA,KAAAA,EAAAf,KAAAgB,MAIA,KAAAC,OAAAC,OAAA,cAAAH,EAAAf,KAAAA,KAAAmB,UACA,KAAAF,OAAAC,OAAA,qBAAAH,EAAAf,KAAAA,KAAAoB,UACA,KAAAH,OAAAC,OAAA,iBAAAG,SAKA,KAAAC,SAAA,CACAjB,QAAA,OACAkB,KAAA,YAEAC,aAAAC,QAAA,QAAAV,EAAAf,KAAAA,KAAA0B,OAEA,KAAAL,QAAAM,KAAA,kBAIA,KAAAL,SAAA,CACAjB,QAAA,UACAkB,KAAA,SAEA,GAKA,GAEA,EACA1B,UAAAW,GACA,KAAAC,MAAAD,GAAAoB,aACA,IC5G8P,I,UCQ1PC,GAAY,OACd,EACAxD,EACAyB,GACA,EACA,KACA,WACA,MAIF,EAAe+B,EAAiB,O","sources":["webpack://admin2/./src/views/Login/index.vue","webpack://admin2/./src/api/loginApi.js","webpack://admin2/src/views/Login/index.vue","webpack://admin2/./src/views/Login/index.vue?db08","webpack://admin2/./src/views/Login/index.vue?8e58"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main_content\"},[_c('div',{staticClass:\"div1\"},[_c('h3',[_vm._v(\"登录系统\")]),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"52px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"show-password\":_vm.showPassword},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"登录\")]),_c('span',{staticStyle:{\"margin-right\":\"90px\"}}),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1),_c('div',{staticClass:\"forget\"},[_vm._v(\"忘记密码\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from './request'\r\n// 获取用户表格数据\r\nexport function login(data) {\r\n    return request({\r\n        url: '/login',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n","<template>\r\n    <div class=\"main_content\">\r\n        <div class=\"div1\">\r\n            <h3>登录系统</h3>\r\n            <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"52px\" class=\"demo-ruleForm\">\r\n                <el-form-item label=\"账号\" prop=\"username\">\r\n                    <el-input v-model=\"ruleForm.username\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input type=\"password\" :show-password=\"showPassword\" v-model=\"ruleForm.password\">\r\n                        <!-- <i slot=\"suffix\" class=\"el-input__icon eyes\" :class=\"showPassword?'el-icon-view':'el-icon-close'\" @click=\"togglePassword\"></i> -->\r\n                    </el-input>\r\n\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">登录</el-button>\r\n                    <span style=\"margin-right: 90px;\"></span>\r\n                    <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div class=\"forget\">忘记密码</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { login } from \"@/api/loginApi.js\";\r\nexport default {\r\n    data() {\r\n        return {\r\n\r\n\r\n            showPassword: true, // 是否显示密码\r\n            ruleForm: { // 表单数据\r\n                username: '',  // 账号\r\n                password: '',  // 密码\r\n            },\r\n            rules: { // 表单验证规则\r\n                username: [\r\n                    { required: true, message: '请输入账号', trigger: 'blur' },\r\n                ],\r\n                password: [\r\n                    { required: true, message: '请输入密码', trigger: 'blur' },\r\n                ],\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        //格式化菜单数据用于添加到路由表中\r\n        // transformMenuData(menuItems) {\r\n        //     return menuItems.map(item => {\r\n        //         const transformedItem = {\r\n        //             path: item.path || '',\r\n        //             name: item.name || '',\r\n        //             // redirect: item.redirect || '',\r\n        //             meta: item.meta || {},\r\n        //             component:  () => import(`@/views${item.component}`) ,\r\n        //         };\r\n        //         if (item.redirect) {\r\n        //             transformedItem.redirect = item.redirect;\r\n        //         }\r\n        //         if (item.children && item.children.length > 0) {\r\n        //             transformedItem.children = this.transformMenuData(item.children);\r\n        //         }\r\n\r\n        //         return transformedItem;\r\n        //     });\r\n        // },\r\n        // 登录提交\r\n        submitForm(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    login({ username: this.ruleForm.username, password: this.ruleForm.password }).then(res => {\r\n                        if (res.data.code == 200) {\r\n                            // 用transformMenuData吧component的值转换成函数\r\n                            // 用addrouter把路由添加到路由表中\r\n                            // console.log(this.transformMenuData(res.data.data.menuData))\r\n                            this.$store.commit('setUserInfo', res.data.data.userInfo)//把用户信息存到vuex中\r\n                            this.$store.commit('setRouterAuthority', res.data.data.menuData)//把路由表存到vuex中\r\n                            this.$store.commit('addrouter', this.$router)//动态添加路由\r\n                            // this.transformMenuData(res.data.data.menuData).forEach(element => {\r\n                            //     this.$router.addRoute('main', element);\r\n                            // });\r\n\r\n                            this.$message({\r\n                                message: '登录成功',\r\n                                type: 'success'\r\n                            });\r\n                            localStorage.setItem('token', res.data.data.token)\r\n\r\n                                this.$router.push('/home/echart1')\r\n\r\n                            \r\n                        } else {\r\n                            this.$message({\r\n                                message: '账号或密码错误',\r\n                                type: 'error'\r\n                            });\r\n                        }\r\n                    })\r\n                } else {\r\n                    console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        resetForm(formName) {\r\n            this.$refs[formName].resetFields();\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.forget {\r\n    margin-left: 250px;\r\n    color: #409EFF;\r\n    cursor: pointer;\r\n}\r\n\r\n.demo-ruleForm {\r\n    margin-top: 20px;\r\n}\r\n\r\n.main_content {\r\n    width: 100%;\r\n    height: 80vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    .div1 {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        // justify-content: center;\r\n        width: 400px;\r\n        height: 350px;\r\n        border: 1px solid #ccc;\r\n        border-radius: 20px;\r\n        padding: 20px;\r\n        box-shadow: 0 0 10px rgb(231, 231, 231);\r\n\r\n        h3 {\r\n            font-size: 30px;\r\n            font-weight: 600;\r\n            margin-top: 30px;\r\n            margin-bottom: 20px;\r\n        }\r\n\r\n        .el-button {\r\n            margin-top: 30px;\r\n            width: 80px;\r\n            margin-left: -30px;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n.eyes {\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    // line-height: 20px;\r\n}\r\n</style>>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=36b3aa17&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=36b3aa17&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36b3aa17\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","ref","attrs","ruleForm","rules","model","value","username","callback","$$v","$set","expression","showPassword","password","on","$event","submitForm","staticStyle","resetForm","staticRenderFns","login","data","request","url","method","required","message","trigger","methods","formName","$refs","validate","valid","console","log","then","res","code","$store","commit","userInfo","menuData","$router","$message","type","localStorage","setItem","token","push","resetFields","component"],"sourceRoot":""}