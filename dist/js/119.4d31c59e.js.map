{"version":3,"file":"js/119.4d31c59e.js","mappings":"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","sources":["webpack://admin2/./src/views/User/index.vue","webpack://admin2/./src/api/userApi.js","webpack://admin2/src/views/User/index.vue","webpack://admin2/./src/views/User/index.vue?50c1","webpack://admin2/./src/views/User/index.vue?e486"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"top_content\"},[_c('div',{staticClass:\"top_left\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addButton}},[_vm._v(\" 新增 \")])],1),_c('div',{staticClass:\"top_right\"},[_c('el-input',{staticClass:\"custom_input\",attrs:{\"placeholder\":\"请输入姓名查询\"},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=$$v},expression:\"searchInput\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.searchName('s')}}},[_vm._v(\" 搜索 \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.searchName('c')}}},[_vm._v(\" 重置 \")])],1)]),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.dialogVisible,\"width\":\"750px\",\"close-on-click-modal\":false,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"90px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"年龄\",\"prop\":\"age\"}},[_c('el-input',{model:{value:(_vm.ruleForm.age),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"age\", _vm._n($$v))},expression:\"ruleForm.age\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"gender\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择性别\"},model:{value:(_vm.ruleForm.gender),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"gender\", $$v)},expression:\"ruleForm.gender\"}},[_c('el-option',{attrs:{\"label\":\"男\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"女\",\"value\":0}})],1)],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"出生日期\",\"prop\":\"date1\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.ruleForm.date1),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"date1\", $$v)},expression:\"ruleForm.date1\"}})],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"地址\",\"prop\":\"address\"}},[_c('el-input',{model:{value:(_vm.ruleForm.address),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"address\", $$v)},expression:\"ruleForm.address\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.quxiao('ruleForm')}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1),_c('div',{staticClass:\"bottom_content\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"stripe\":\"\",\"data\":_vm.tableData,\"height\":\"650\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"age\",\"label\":\"年龄\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"gender\",\"label\":\"性别\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.gender ? '男' : '女'))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"date1\",\"label\":\"注册日期\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.formatDate(new Date(scope.row.date1))))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"地址\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('SuperAdmin'),expression:\"'SuperAdmin'\"}],attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.editClick(scope.row)}}},[_vm._v(\"编辑\")]),_c('span',{staticStyle:{\"margin\":\"0 8px\"}}),_c('el-popconfirm',{attrs:{\"title\":\"确定要删除吗？\",\"confirmButtonText\":\"确定\",\"cancelButtonText\":\"取消\"},on:{\"confirm\":function($event){return _vm.handleDelete(scope.row)}}},[_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('SuperAdmin'),expression:\"'SuperAdmin'\"}],attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"size\":\"small\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.oagination.page,\"page-sizes\":[10, 20, 50, 100],\"page-size\":10,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.oagination.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from './request'\r\n// 获取用户表格数据\r\nexport function getTableData(data) {\r\n    return request({\r\n        url: '/user/tableData',\r\n        method: 'post',\r\n        data\r\n    })\r\n}//删除用户表格数据\r\nexport function deleteTableData(data) {\r\n    return request({\r\n        url: '/user/deleteTableData',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n//添加用户表格数据\r\nexport function addTableData(data) {\r\n    return request({\r\n        url: '/mall/add',\r\n        method: 'post',\r\n        data\r\n    })\r\n}","<template>\r\n    <div class=\"content\">\r\n        <div class=\"top_content\">\r\n            <div class=\"top_left\">\r\n                <el-button @click=\"addButton\" type=\"primary\" icon=\"el-icon-plus\">\r\n                    新增\r\n                </el-button>\r\n            </div>\r\n            <div class=\"top_right\">\r\n                <el-input class=\"custom_input\" v-model=\"searchInput\" placeholder=\"请输入姓名查询\"></el-input>\r\n                <el-button @click=\"searchName('s')\" type=\"primary\" icon=\"el-icon-search\">\r\n                    搜索\r\n                </el-button>\r\n                <el-button @click=\"searchName('c')\" type=\"primary\">\r\n                    重置\r\n                </el-button>\r\n            </div>\r\n        </div>\r\n        <!-- 新增对话框 -->\r\n        <el-dialog title=\"新增\" :visible.sync=\"dialogVisible\" width=\"750px\"  :close-on-click-modal=\"false\"\r\n            :before-close=\"handleClose\">\r\n            <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"90px\" class=\"demo-ruleForm\">\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"姓名\" prop=\"name\">\r\n                            <el-input v-model=\"ruleForm.name\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"年龄\" prop=\"age\">\r\n                            <el-input v-model.number=\"ruleForm.age\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"性别\" prop=\"gender\">\r\n                            <el-select style=\"width: 100%;\" v-model=\"ruleForm.gender\" placeholder=\"请选择性别\">\r\n                                <el-option label=\"男\" :value=\"1\"></el-option>\r\n                                <el-option label=\"女\" :value=\"0\"></el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"出生日期\" prop=\"date1\">\r\n                            <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"ruleForm.date1\"\r\n                                style=\"width: 100%;\"></el-date-picker>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-form-item label=\"地址\" prop=\"address\">\r\n                    <el-input v-model=\"ruleForm.address\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"quxiao('ruleForm')\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <div class=\"bottom_content\">\r\n            <!-- 表格 -->\r\n            <el-table stripe :data=\"tableData\" style=\"width: 100%\" height=\"650\">\r\n                <el-table-column prop=\"name\" label=\"姓名\" width=\"150\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"age\" label=\"年龄\" width=\"150\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"gender\" label=\"性别\" width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span>{{ scope.row.gender ? '男' : '女' }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"date1\" label=\"注册日期\" width=\"300\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span>{{ formatDate(new Date(scope.row.date1)) }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"address\" label=\"地址\">\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" width=\"150\" fixed=\"right\" >\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button v-permission=\"'SuperAdmin'\" @click=\"editClick(scope.row)\" size=\"small\">编辑</el-button>\r\n                        <span style=\"margin: 0 8px;\"></span>\r\n                        <el-popconfirm title=\"确定要删除吗？\" confirmButtonText=\"确定\" cancelButtonText=\"取消\"\r\n                            @confirm=\"handleDelete(scope.row)\">\r\n                            <el-button v-permission=\"'SuperAdmin'\" slot=\"reference\" type=\"danger\" size=\"small\">删除</el-button>\r\n                        </el-popconfirm>\r\n\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div class=\"pagination\">\r\n                <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n                :current-page=\"oagination.page\" :page-sizes=\"[10, 20, 50, 100]\" :page-size=\"10\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"oagination.total\">\r\n            </el-pagination>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    getTableData,\r\n    deleteTableData,\r\n    addTableData,\r\n} from \"@/api/userApi.js\";\r\nexport default {\r\n    mounted() {\r\n        this.getTableData()\r\n    },\r\n    data() {\r\n        return {\r\n           oagination: { //分页\r\n                page: 1,\r\n                limit: 10,\r\n                total: 0,\r\n            },\r\n            searchInput: '',// 搜索框\r\n            tableData: [],// 表格数据\r\n            dialogVisible: false,  // 新增对话框\r\n            ruleForm: { // 新增,修改 表单\r\n                name: '',\r\n                gender: '',\r\n                date1: '',\r\n                address: '',\r\n                age: '',\r\n            },\r\n            rules: {// 表单验证\r\n                name: [\r\n                    { required: true, validator: this.nameProp, trigger: 'blur' },\r\n                ],\r\n                gender: [\r\n                    { required: true, validator: this.genderProp, trigger: 'change' },\r\n                ],\r\n                date1: [\r\n                    { required: true, validator: this.date1Prop, trigger: 'blur' },\r\n                ],\r\n                address: [\r\n                    { required: true, message: '地址不能为空', trigger: 'blur' },\r\n                ],\r\n                age: [\r\n                    { required: true, message: '年龄不能为空', trigger: 'blur' },\r\n                    { type: 'number', message: '年龄必须为数字值', trigger: 'blur' }\r\n                ],\r\n\r\n            }\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        //分页 每页多少条\r\n        handleSizeChange(val) {\r\n        this.oagination.limit = val\r\n        this.getTableData()\r\n      },\r\n      //分页 页数\r\n      handleCurrentChange(val) {\r\n        this.oagination.page = val\r\n        this.getTableData()\r\n      },\r\n    \r\n        // 搜索\r\n        searchName(x) {\r\n            if (x == 'c') {\r\n                this.searchInput = ''\r\n            }\r\n            getTableData({ page: this.oagination.page, \r\n                           limit: this.oagination.limit, \r\n                           searchName: this.searchInput \r\n                        }).then(res => {\r\n                // console.log(res.data.data)\r\n                if (res.data.code == 200) {\r\n                    this.tableData = res.data.data.arr\r\n                }\r\n            })\r\n        },\r\n        //取消按钮\r\n        quxiao(ruleForm) {\r\n            this.dialogVisible = false\r\n            this.resetForm(ruleForm)\r\n        },\r\n        //删除\r\n        handleDelete(row) {\r\n            deleteTableData({ ids: row.id }).then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.$message({\r\n                        message: '删除成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.getTableData()\r\n                }\r\n            })\r\n\r\n        },\r\n        // 格式化table的data1日期\r\n        formatDate(date) {\r\n            const year = date.getFullYear();\r\n            const month = String(date.getMonth() + 1).padStart(2, '0');\r\n            const day = String(date.getDate()).padStart(2, '0');\r\n\r\n            return `${year}-${month}-${day}`;\r\n        },\r\n        // 新增修改表单提交\r\n        submitForm(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    // console.log(this.ruleForm.date1);\r\n                    // this.ruleForm.date1 = this.formatDate(this.ruleForm.date1)\r\n                    addTableData(this.ruleForm).then(res => {\r\n                        if (res.data.code == 200) {\r\n                            this.$message({\r\n                                message: res.data.message,\r\n                                type: 'success'\r\n                            });\r\n                            this.dialogVisible = false\r\n                            this.getTableData()\r\n                            this.resetForm(formName)\r\n                        }\r\n                    })\r\n\r\n\r\n                } else {\r\n                    // console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        // 重置表单\r\n        resetForm(formName) {    \r\n            this.ruleForm = {\r\n                name: null,\r\n                gender: null,\r\n                date1: null,\r\n                address: null,\r\n                age: null,\r\n            }\r\n            this.$refs[formName].resetFields();\r\n        },\r\n\r\n\r\n        // 表单验证出生日期\r\n        date1Prop(rule, value, callback) {\r\n            if (value === '') {\r\n                callback(new Error('请选择出生日期'))\r\n            } else {\r\n                callback();\r\n            }\r\n        },\r\n        // 表单验证名字\r\n        nameProp(rule, value, callback) {\r\n            // console.log(value)\r\n            let pattern = /^(?:[\\u4e00-\\u9fa5·]{2,16})$/\r\n            if (value === '') {\r\n                callback(new Error('请输入活动名称'))\r\n            } else if (!pattern.test(value)) {\r\n                callback(new Error('请输入正确的姓名格式'));\r\n            } else {\r\n                callback();\r\n            }\r\n        },\r\n        // 表单验证性别\r\n        genderProp(rule, value, callback) {\r\n            if (value === '') {\r\n                callback(new Error('请选择性别'))\r\n            } else {\r\n                callback();\r\n            }\r\n        },\r\n        // 新增按钮\r\n        addButton() {\r\n            this.dialogVisible = true\r\n        },\r\n        // 新增对话框关闭确认\r\n        handleClose(done) {\r\n            this.$confirm('确认关闭？')\r\n                .then(_ => {\r\n                    this.resetForm('ruleForm')\r\n                    done();\r\n                })\r\n                .catch(_ => { });\r\n        },\r\n\r\n        // 获取表格数据\r\n        getTableData() {\r\n            getTableData({ page: this.oagination.page, limit: this.oagination.limit }).then(res => {\r\n                // console.log(res.data.data)\r\n                if (res.data.code == 200) {\r\n                    this.tableData = res.data.data.arr\r\n                    this.oagination.total = res.data.data.total\r\n                    // 循环this.tableData将data1用formatDate格式化\r\n                    // this.tableData.forEach(item => {\r\n                    //     item.date2 = item.date1\r\n                    // });\r\n                    // console.log(this.tableData)\r\n\r\n                }\r\n            })\r\n        },\r\n        //编辑\r\n        editClick(row) {\r\n            this.ruleForm = {...row}  //扩展运算符实现浅拷贝 不然在编辑的过程中会影响到tableData\r\n            // this.ruleForm = row\r\n            this.dialogVisible = true\r\n        },\r\n\r\n\r\n    },\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.pagination{\r\n    text-align: right;\r\n    margin-top: 20px;\r\n}\r\n.custom-form {\r\n    text-align: center;\r\n    /* 将表单内部元素居中 */\r\n}\r\n\r\n.el-form-item__content {\r\n    margin-left: 0;\r\n    /* 去掉左边距 */\r\n}\r\n\r\n.top_content {\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.custom_input {\r\n    width: 300px;\r\n    margin-right: 20px;\r\n}\r\n\r\n.bottom_content {\r\n    width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bd19522e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=bd19522e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd19522e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","addButton","_v","model","value","searchInput","callback","$$v","expression","$event","searchName","dialogVisible","handleClose","ref","ruleForm","rules","name","$set","age","_n","staticStyle","gender","date1","address","slot","quxiao","submitForm","tableData","scopedSlots","_u","key","fn","scope","_s","row","formatDate","Date","directives","rawName","editClick","handleDelete","oagination","page","total","handleSizeChange","handleCurrentChange","staticRenderFns","getTableData","data","request","url","method","deleteTableData","addTableData","mounted","limit","required","validator","nameProp","trigger","genderProp","date1Prop","message","type","methods","val","x","then","res","code","arr","resetForm","ids","id","$message","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","formName","$refs","validate","valid","resetFields","rule","Error","pattern","test","done","$confirm","_","catch","component"],"sourceRoot":""}